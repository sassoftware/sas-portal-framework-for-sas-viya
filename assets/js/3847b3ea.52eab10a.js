"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[214],{1783:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"setup","title":"Setup","description":"In this setup we will walk-through the requirements to get the SAS Portal up and running for you.","source":"@site/docs/setup.md","sourceDirName":".","slug":"/setup","permalink":"/sas-portal-framework-for-sas-viya/setup","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"defaultSidebar","previous":{"title":"SAS Portal Framework for SAS Viya","permalink":"/sas-portal-framework-for-sas-viya/"},"next":{"title":"Introduction","permalink":"/sas-portal-framework-for-sas-viya/introduction"}}');var o=n(4848),r=n(8453);const a={sidebar_position:2},i="Setup",l={},d=[{value:"Webserver",id:"webserver",level:2},{value:"Setup in SAS Environment Manager",id:"setup-in-sas-environment-manager",level:2},{value:"Sample Content and Config.js",id:"sample-content-and-configjs",level:2},{value:"[Optional] Integration with Content from SAS 9.4",id:"optional-integration-with-content-from-sas-94",level:2},{value:"Pull dependencies using CDNs or from a local copy",id:"pull-dependencies-using-cdns-or-from-a-local-copy",level:2},{value:"Local Setup",id:"local-setup",level:3}];function c(e){const s={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.header,{children:(0,o.jsx)(s.h1,{id:"setup",children:"Setup"})}),"\n",(0,o.jsx)(s.p,{children:"In this setup we will walk-through the requirements to get the SAS Portal up and running for you."}),"\n",(0,o.jsx)(s.p,{children:"The guide requires someone that can provide a web-server and someone with the assumable SAS Administrator role."}),"\n",(0,o.jsxs)(s.p,{children:["A walkthrough of the main steps of the setups are also detailed in this YouTube video: ",(0,o.jsx)(s.a,{href:"https://youtu.be/ZifDM_n20p0",children:"SAS Portal Framework for SAS Viya - Open Source Project Overview"}),"."]}),"\n",(0,o.jsx)(s.p,{children:"You can have multiple SAS Portals for one SAS Viya environment, in order to do that you will just have to clone this repository into different folders on your webserver and then create different base folders for the SAS Portal."}),"\n",(0,o.jsx)(s.h2,{id:"webserver",children:"Webserver"}),"\n",(0,o.jsx)(s.p,{children:"You will need webserver, where you clone the portal to. You can use an Apache HTTP Web Server for this - see the example YAML to deploy it on kubernetes below."}),"\n",(0,o.jsxs)(s.p,{children:["If you run the webserver under the same top level URL as the SAS Viya host, you will not have to change ",(0,o.jsx)(s.code,{children:"config.js"}),". If you don't, please see information in the Sample Content & ",(0,o.jsx)(s.code,{children:"config.js"})," section."]}),"\n",(0,o.jsx)(s.p,{children:"Please note your webserver needs to have TLS configured, because SAS Viya will not accepts non-HTTPS request for authentication & authorization requests."}),"\n",(0,o.jsx)(s.p,{children:"When you have setup your webserver go ahead and clone this repository on it and share the URL with the SAS Administrator."}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-yaml",children:'apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: httpd-webserver-deployment\n  labels:\n    app: httpd-webserver\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: httpd-webserver\n  template:\n    metadata:\n      labels:\n        app: httpd-webserver\n    spec:\n      containers:\n        - name: httpd-webserver\n          image: httpd:2.4.57\n          ports:\n            - containerPort: 80\n          volumeMounts:\n            - name: httpd-webserver-volume\n              mountPath: /usr/local/apache2/htdocs/httpd-webserver\n      volumes:\n        - name: httpd-webserver-volume\n          nfs:\n            server: <NFS_IP>\n            path: "<PATH_FOR_MOUNT>" \n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: httpd-webserver-service\nspec:\n  type: ClusterIP\n  selector:\n    app: httpd-webserver\n  ports:\n  - protocol: TCP\n    port: 443\n    targetPort: 80\n---\nkind: Ingress\napiVersion: networking.k8s.io/v1\nmetadata:\n  name: httpd-webserver-ingress\nspec:\n  ingressClassName: nginx\n  tls:\n  - hosts:\n    - <YOUR_HOST_URL>\n    secretName: webserver-tls-certs\n  rules:\n    - host: <YOUR_HOST_URL>\n      http:\n        paths: \n          - path: /httpd-webserver\n            pathType: Prefix\n            backend:\n              service:\n                name: httpd-webserver-service\n                port:\n                  number: 443\n'})}),"\n",(0,o.jsx)(s.h2,{id:"setup-in-sas-environment-manager",children:"Setup in SAS Environment Manager"}),"\n",(0,o.jsx)(s.p,{children:"As the next step you will have to follow the setup instructions detailed in the SAS Visual Analytics SDK and SAS Content SDK documentation:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.a,{href:"https://developer.sas.com/sdk/va/docs/guides/viya-setup/",children:"SAS Visual Analytics SDK documentation"})}),"\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.a,{href:"https://developer.sas.com/sdk/content/docs/getting-started/#sas-viya-setup",children:"SAS Content SDK documentation"})}),"\n"]}),"\n",(0,o.jsx)(s.h2,{id:"sample-content-and-configjs",children:"Sample Content and Config.js"}),"\n",(0,o.jsxs)(s.p,{children:["If you want to use the sample content, then import the ",(0,o.jsx)(s.code,{children:"Portal-Content-EM.json"})," and ",(0,o.jsx)(s.code,{children:"Content-EM.json"})," using SAS Environment Manager or the viya-admin CLI.\nThe examples include also static links to SAS Jobs.\nThis applies to ",(0,o.jsx)(s.code,{children:"Use Case 1/interactiveContent-example.json"})," where you will need to replace the URL with your Viya host.\nIf you replace the file, you will need to update the ",(0,o.jsx)(s.code,{children:"portal-page-layout.json"})," accordingly with the new file URI.\nThe ",(0,o.jsx)(s.code,{children:"VA Test"})," page also requires an additional setup: run the ",(0,o.jsx)(s.code,{children:"Load-HMEQ.sas"})," file in ",(0,o.jsx)(s.code,{children:"Content/VA Reports"}),", which will load the hmeq table from sampsio to public."]}),"\n",(0,o.jsxs)(s.p,{children:["Go to ",(0,o.jsx)(s.code,{children:"config.js"}),", search for ",(0,o.jsx)(s.strong,{children:"VIYA"})," and replace the value ",(0,o.jsx)(s.code,{children:"window.location.origin"})," with your SAS Viya host if your webserver is not located under the same URL as the Viya host."]}),"\n",(0,o.jsxs)(s.p,{children:["If you imported the sample content you can skip this step, if you created your own portal folder you have to search for ",(0,o.jsx)(s.strong,{children:"PORTAL"})," and replace the value ",(0,o.jsx)(s.code,{children:"68384628-8305-4285-9f16-0cdc57d13dc5"})," if the URI of your portal folder (go to the folder in SAS Environment Manager, select it and copy just the URI ID\u2014 everything after ",(0,o.jsx)(s.code,{children:"/folders/folders/"}),")."]}),"\n",(0,o.jsx)(s.p,{children:"Now the SAS Portal is ready to be used - the two following topics are fully optional."}),"\n",(0,o.jsx)(s.h2,{id:"optional-integration-with-content-from-sas-94",children:"[Optional] Integration with Content from SAS 9.4"}),"\n",(0,o.jsxs)(s.p,{children:["If you want to use this SAS Portal as a hybrid solution with SAS 9.4 content, you must remove the option ",(0,o.jsx)(s.em,{children:"Header set X-Frame-Options SAMEORIGIN"})," from the SAS 9.4 Webserver configuration.\nSee the ",(0,o.jsx)(s.a,{href:"https://go.documentation.sas.com/doc/en/bicdc/9.4/vaicg/p1gi7u7b71vwbxn1rt9tu0h61f5t.htm",children:"SAS documentation"}),"."]}),"\n",(0,o.jsx)(s.p,{children:"The two types of content that are supported from SAS 9.4 are Stored Processes (STP) and Web Report Studio Reports (WRS Reports) in the View only mode. The integration is done using the Interactive-Content object."}),"\n",(0,o.jsx)(s.h2,{id:"pull-dependencies-using-cdns-or-from-a-local-copy",children:"Pull dependencies using CDNs or from a local copy"}),"\n",(0,o.jsx)(s.p,{children:"The default setup provided in this project is done by pulling the dependencies via CDNs.\nTo see what is used see the links below, if you prefer to use your own hosted versions please take a look at the local setup section."}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-html",children:'\x3c!-- Bootstrap Style --\x3e\n<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">\n\n\x3c!-- Import SAS SDKs and Third-Party Utilities --\x3e\n<script src="https://cdn.developer.sas.com/packages/sas-auth-browser/latest/dist/index.min.js"><\/script>\n<script src="https://cdn.developer.sas.com/packages/content-components/latest/dist/umd/content-sdk-components.js"><\/script>\n<script src="https://cdn.developer.sas.com/packages/va-report-components/latest/dist/umd/va-report-components.js"><\/script>\n<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"><\/script>\n<script type="module" src="https://cdn.jsdelivr.net/gh/zerodevx/zero-md@2/dist/zero-md.min.js"><\/script>\n'})}),"\n",(0,o.jsxs)(s.p,{children:["And if you are making use of the Portal Builder object then you will also need to update ",(0,o.jsx)(s.em,{children:"/static/portalBuilder.html"}),":"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-html",children:'\x3c!-- Bootstrap Style --\x3e\n<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">\n\n\x3c!-- Bootstrap SDK --\x3e\n<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"><\/script>\n'})}),"\n",(0,o.jsx)(s.h3,{id:"local-setup",children:"Local Setup"}),"\n",(0,o.jsxs)(s.p,{children:["This setup guide will showcase how to use only local resource and not pull any dependencies dynamically from the web.\nTo download the different SDKs & Third-Party libraries ",(0,o.jsx)(s.a,{href:"https://www.npmjs.com/",children:"npm"})," will be used.\nFor setup help for npm please refer to ",(0,o.jsx)(s.a,{href:"https://docs.npmjs.com/downloading-and-installing-node-js-and-npm",children:"this guide"}),"."]}),"\n",(0,o.jsxs)(s.p,{children:["Download the ",(0,o.jsx)(s.a,{href:"https://github.com/sassoftware/sas-viya-sdk-js/tree/main/sdk/sas-auth-browser",children:"SAS Auth Browser"})," using npm:"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"npm install @sassoftware/sas-auth-browser\ncp -r ./node_modules/@sassoftware/sas-auth-browser ./sdk-assets/auth\n"})}),"\n",(0,o.jsxs)(s.p,{children:["Download the ",(0,o.jsx)(s.a,{href:"https://github.com/sassoftware/sas-viya-sdk-js/tree/main/sdk/content-components",children:"SAS Content SDK"})," using npm:"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"npm install @sassoftware/content-components\ncp -r ./node_modules/@sassoftware/content-components ./sdk-assets/content\n"})}),"\n",(0,o.jsxs)(s.p,{children:["Download the ",(0,o.jsx)(s.a,{href:"https://github.com/sassoftware/sas-viya-sdk-js/tree/main/sdk/va-report-components",children:"SAS Visual Analytics SDK"})," using npm:"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"npm install @sassoftware/va-report-components\ncp -r ./node_modules/@sassoftware/va-report-components ./sdk-assets/va-report-components\n"})}),"\n",(0,o.jsxs)(s.p,{children:["Download ",(0,o.jsx)(s.a,{href:"https://getbootstrap.com/docs/5.3/getting-started/download/",children:"Bootstrap"})," using npm:"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"npm install bootstrap@5.3.0-alpha1\ncp -r ./node_modules/bootstrap/dist/css ./sdk-assets/bootstrap/css\ncp -r ./node_modules/bootstrap/dist/js ./sdk-assets/bootstrap/js\ncp -r ./node_modules/bootstrap/scss ./sdk-assets/bootstrap/scss\n"})}),"\n",(0,o.jsxs)(s.p,{children:["Download the ",(0,o.jsx)(s.a,{href:"https://github.com/zerodevx/zero-md",children:"Markdown Renderer"})," using npm - used for Text Objects:"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"npm install zero-md\ncp -r ./node_modules/zero-md/dist ./sdk-assets/zero-md\n"})}),"\n",(0,o.jsxs)(s.p,{children:["If you have followed all of the download and copying steps detailed above, change the following in the ",(0,o.jsx)(s.code,{children:"index.html"})," page under the comment ",(0,o.jsx)(s.code,{children:"Import SAS SDKs"})," and ",(0,o.jsx)(s.code,{children:"Third-Party Utilities"}),":"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-html",children:'<script src="./sdk-assets/auth/dist/index.js"><\/script>\n<script src="./sdk-assets/content/dist/umd/content-sdk-components.js"><\/script>\n<script src="./sdk-assets/va-report-components/dist/umd/va-report-components.js"><\/script>\n<script src="./sdk-assets/bootstrap/js/bootstrap.bundle.min.js"><\/script>\n<script type="module" src="./sdk-assets/zero-md/zero-md.min.js"><\/script>\n'})}),"\n",(0,o.jsxs)(s.p,{children:["And in the ",(0,o.jsx)(s.code,{children:"head"})," element under the comment Bootstrap Style replace the ",(0,o.jsx)(s.code,{children:"link"})," element with the following:"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-html",children:'<link href="./sdk-assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">\n'})}),"\n",(0,o.jsxs)(s.p,{children:["And in ",(0,o.jsx)(s.code,{children:"static/portalBuilder.html"}),", also replace the link element in the ",(0,o.jsx)(s.code,{children:"head"})," element as above.\nUnder ",(0,o.jsx)(s.code,{children:"Bootstrap SDK"}),", replace the script element with:"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-html",children:'<script src="./sdk-assets/bootstrap/js/bootstrap.bundle.min.js"><\/script>\n'})})]})}function p(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>i});var t=n(6540);const o={},r=t.createContext(o);function a(e){const s=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),t.createElement(r.Provider,{value:s},e.children)}}}]);